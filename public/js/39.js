"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[39],{7602:(a,t,r)=>{r.d(t,{Z:()=>s});var n=r(3645),e=r.n(n)()((function(a){return a[1]}));e.push([a.id,".car-list__item[data-v-c7fe6aa2]{align-items:center;display:flex;margin-bottom:12px;padding:6px}.car-list__item[data-v-c7fe6aa2]:hover{background-color:#d0eaf6}.car-list__devider[data-v-c7fe6aa2]{border-bottom:1px dotted #000;cursor:pointer;flex-grow:1;height:32px;margin:0 16px}.car-list__number[data-v-c7fe6aa2]{background-color:#fff;border:1.5px solid #000;border-radius:4px;color:#000;margin-left:8px;padding:0 4px;text-transform:lowercase}",""]);const s=e},9039:(a,t,r)=>{r.r(t),r.d(t,{default:()=>l});const n={data:function(){return{cars:[],errored:!1,loading:!0}},mounted:function(){this.getAllCars()},methods:{getAllCars:function(){var a=this;axios.get("/api/V1/cars").then((function(t){a.cars=t.data.data})).catch((function(t){console.log(t),a.errored=!0})).finally((function(){a.loading=!1}))},addCar:function(){this.$router.push({name:"add-car"})},editCar:function(a){this.$router.push({name:"edit-car",params:{carId:a}})},deleteCar:function(a){var t=this;confirm("Вы действительно хотите удалить автомобиль?")&&axios.post("/api/V1/cars/"+a,{_method:"DELETE"}).then((function(a){t.cars=[],t.getAllCars()})).catch((function(a){console.log(a),t.errored=!0})).finally((function(){t.loading=!1}))}}};var e=r(3379),s=r.n(e),i=r(7602),c={insert:"head",singleton:!1};s()(i.Z,c);i.Z.locals;const l=(0,r(1900).Z)(n,(function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("div",{staticClass:"page"},[r("h1",{staticClass:"page__title"},[a._v("Автомобили")]),a._v(" "),r("button",{staticClass:"small-btn small-btn__add mb-16",on:{click:a.addCar}},[a._v("+")]),a._v(" "),a.loading?r("app-loader"):a._e(),a._v(" "),a.errored?r("error-notification"):a._e(),a._v(" "),r("ul",{staticClass:"car-list"},a._l(a.cars,(function(t,n){return r("li",{key:t.id,staticClass:"car-list__item"},[r("router-link",{attrs:{to:{name:"car",params:{carId:t.id}}}},[r("h3",[a._v(a._s(n+1)+". "+a._s(t.model)+" "),r("span",{staticClass:"car-list__number"},[a._v(a._s(t.number))])])]),a._v(" "),r("div",{staticClass:"car-list__devider",on:{click:function(r){return a.$router.push({name:"car",params:{carId:t.id}})}}}),a._v(" "),r("div",{staticClass:"small-btn-group"},[r("button",{staticClass:"small-btn small-btn__edit",on:{click:function(r){return a.editCar(t.id)}}},[a._v("\n                    Edit\n                ")]),a._v(" "),r("button",{staticClass:"small-btn small-btn__del",on:{click:function(r){return a.deleteCar(t.id)}}},[a._v("\n                    Del\n                ")])])],1)})),0)],1)}),[],!1,null,"c7fe6aa2",null).exports}}]);