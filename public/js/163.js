"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[163],{5216:(t,a,n)=>{n.d(a,{Z:()=>o});var e=n(3645),i=n.n(e)()((function(t){return t[1]}));i.push([t.id,".relation-list__item[data-v-b37daa2a]{align-items:center;display:flex;margin-bottom:12px;padding:6px}.relation-list__item[data-v-b37daa2a]:hover{background-color:#d0eaf6}.relation-list__devider[data-v-b37daa2a]{border-bottom:1px dotted #000;cursor:pointer;flex-grow:1;height:32px;margin:0 16px}.relation-list__number[data-v-b37daa2a]{background-color:#fff;border:1.5px solid #000;border-radius:4px;color:#000;margin-left:8px;padding:0 4px;text-transform:lowercase}",""]);const o=i},163:(t,a,n)=>{n.r(a),n.d(a,{default:()=>s});const e={data:function(){return{relations:[],errored:!1,loading:!0}},mounted:function(){this.getAllRelations()},methods:{printDocument:function(t){this.$router.push({name:"print-document",params:{relationId:t}})},getAllRelations:function(){var t=this;axios.get("/api/V1/relations").then((function(a){t.relations=a.data.data})).catch((function(a){console.log(a),t.errored=!0})).finally((function(){t.loading=!1}))},addRelation:function(){this.$router.push({name:"add-relation"})},editRelation:function(t){this.$router.push({name:"edit-relation",params:{relationId:t}})},deleteRelation:function(t){var a=this;confirm("Вы действительно хотите удалить отношение?")&&axios.post("/api/V1/relations/"+t,{_method:"DELETE"}).then((function(t){a.relations=[],a.getAllRelations()})).catch((function(t){console.log(t),a.errored=!0})).finally((function(){a.loading=!1}))}}};var i=n(3379),o=n.n(i),l=n(5216),r={insert:"head",singleton:!1};o()(l.Z,r);l.Z.locals;const s=(0,n(1900).Z)(e,(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"page"},[n("h1",{staticClass:"page__title"},[t._v("Путевые глисты")]),t._v(" "),n("button",{staticClass:"small-btn small-btn__add mb-16",on:{click:t.addRelation}},[t._v("+")]),t._v(" "),t.loading?n("app-loader"):t._e(),t._v(" "),t.errored?n("error-notification"):t._e(),t._v(" "),n("ul",{staticClass:"relation-list"},t._l(t.relations,(function(a){return n("li",{key:a.id,staticClass:"relation-list__item"},[n("router-link",{attrs:{to:{name:"relation",params:{relationId:a.id}}}},[n("h3",[t._v(t._s(a.last_name)+" "),n("span",{staticClass:"relation-list__number"},[t._v(t._s(a.number))])])]),t._v(" "),n("div",{staticClass:"relation-list__devider",on:{click:function(n){return t.$router.push({name:"relation",params:{relationId:a.id}})}}}),t._v(" "),n("div",{staticClass:"small-btn-group"},[n("button",{staticClass:"small-btn small-btn__del",on:{click:function(n){return t.deleteRelation(a.id)}}},[t._v("\n                    Del\n                ")])])],1)})),0)],1)}),[],!1,null,"b37daa2a",null).exports}}]);