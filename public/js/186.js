"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[186],{8252:(t,n,a)=>{a.d(n,{Z:()=>o});var e=a(3645),i=a.n(e)()((function(t){return t[1]}));i.push([t.id,".relation-list__item[data-v-00f512f4]{align-items:center;display:flex;margin-bottom:12px;padding:6px}.relation-list__item[data-v-00f512f4]:hover{background-color:#d0eaf6}.relation-list__devider[data-v-00f512f4]{border-bottom:1px dotted #000;cursor:pointer;flex-grow:1;height:32px;margin:0 16px}.relation-list__number[data-v-00f512f4]{background-color:#fff;border:1.5px solid #000;border-radius:4px;color:#000;margin-left:8px;padding:0 4px;text-transform:lowercase}",""]);const o=i},5186:(t,n,a)=>{a.r(n),a.d(n,{default:()=>s});const e={data:function(){return{relations:[],errored:!1,loading:!0}},mounted:function(){this.getAllRelations()},methods:{printDocument:function(t){this.$router.push({name:"print-document",params:{relationId:t}})},getAllRelations:function(){var t=this;axios.get("/api/V1/relations").then((function(n){t.relations=n.data.data,console.log(t.relations)})).catch((function(n){console.log(n),t.errored=!0})).finally((function(){t.loading=!1}))},addRelation:function(){this.$router.push({name:"add-relation"})},editRelation:function(t){this.$router.push({name:"edit-relation",params:{relationId:t}})},deleteRelation:function(t){var n=this;confirm("Вы действительно хотите удалить отношение?")&&axios.post("/api/V1/relations/"+t,{_method:"DELETE"}).then((function(t){n.relations=[],n.getAllRelations()})).catch((function(t){console.log(t),n.errored=!0})).finally((function(){n.loading=!1}))}}};var i=a(3379),o=a.n(i),l=a(8252),r={insert:"head",singleton:!1};o()(l.Z,r);l.Z.locals;const s=(0,a(1900).Z)(e,(function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"page"},[a("h1",{staticClass:"page__title"},[t._v("Водитель - Автомобиль")]),t._v(" "),a("button",{staticClass:"small-btn small-btn__add mb-16",on:{click:t.addRelation}},[t._v("+")]),t._v(" "),t.loading?a("app-loader"):t._e(),t._v(" "),t.errored?a("error-notification"):t._e(),t._v(" "),a("ul",{staticClass:"relation-list"},t._l(t.relations,(function(n){return a("li",{key:n.id,staticClass:"relation-list__item"},[a("router-link",{attrs:{to:{name:"relation",params:{relationId:n.id}}}},[a("h3",[t._v(t._s(n.last_name)+" "),a("span",{staticClass:"relation-list__number"},[t._v(t._s(n.number))])])]),t._v(" "),a("div",{staticClass:"relation-list__devider",on:{click:function(a){return t.$router.push({name:"relation",params:{relationId:n.id}})}}}),t._v(" "),a("div",{staticClass:"small-btn-group"},[a("button",{staticClass:"small-btn small-btn__del",on:{click:function(a){return t.deleteRelation(n.id)}}},[t._v("\n                    Del\n                ")])])],1)})),0)],1)}),[],!1,null,"00f512f4",null).exports}}]);