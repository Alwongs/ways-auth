"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[794],{178:(e,a,t)=>{t.d(a,{Z:()=>o});var r=t(3645),l=t.n(r)()((function(e){return e[1]}));l.push([e.id,".journal-table-header[data-v-dfec9f48]{border:solid #000;border-width:2px 2px 0;color:#000;display:flex;font-size:12px;height:72px;margin:30px 0 0 30px;text-align:center;width:920px}.journal-table-header__number[data-v-dfec9f48]{border:solid #000;border-width:0 2px 0 0;flex:0 0 55px;padding-top:28px}.journal-table-header__date[data-v-dfec9f48]{border:solid #000;border-width:0 2px 0 0;flex:0 0 121px;padding-top:20px}.journal-table-header__driver[data-v-dfec9f48]{border:solid #000;border-width:0 2px 0 0;display:flex;flex:0 0 330px;flex-direction:column}.journal-table-header__driver-title[data-v-dfec9f48]{border:solid #000;border-width:0 0 2px;padding:2px 0}.journal-table-header__driver-subtitle-group[data-v-dfec9f48]{display:flex;flex-grow:1}.journal-table-header__driver-subtitle-item[data-v-dfec9f48]{border:solid #000;border-width:0 2px 0 0}.journal-table-header__driver-subtitle-item[data-v-dfec9f48]:first-child{flex:0 0 256px;padding-top:16px}.journal-table-header__driver-subtitle-item[data-v-dfec9f48]:last-child{flex:0 0 74px;padding-top:8px}.journal-table-header__car-number[data-v-dfec9f48]{border:solid #000;border-width:0 2px 0 0;flex:0 0 86px;padding-top:14px}.journal-table-header__signature[data-v-dfec9f48]{border:solid #000;border-width:0 2px 0 0;display:flex;flex:0 0 274px;flex-direction:column}.journal-table-header__signature-title[data-v-dfec9f48]{border:solid #000;border-width:0 0 2px;padding:2px 0}.journal-table-header__signature-subtitle-group[data-v-dfec9f48]{display:flex;flex-grow:1}.journal-table-header__signature-subtitle-item[data-v-dfec9f48]{border:solid #000;border-width:0 2px 0 0;flex:0 0 110px;padding-top:2px}.journal-table-header__signature-subtitle-item[data-v-dfec9f48]:first-child{flex:0 0 90px}.journal-table-header__signature-subtitle-item[data-v-dfec9f48]:last-child{flex:0 0 74px}.journal-table-header__comment[data-v-dfec9f48]{flex:0 0 52px;padding-top:30px}",""]);const o=l},7210:(e,a,t)=>{t.d(a,{Z:()=>o});var r=t(3645),l=t.n(r)()((function(e){return e[1]}));l.push([e.id,".journal-table-numbers[data-v-c694ca5a]{border:2px solid #000;color:#000;display:flex;font-size:12px;margin:0 0 0 30px;text-align:center;width:920px}.journal-table-numbers__column-1[data-v-c694ca5a]{border:solid #000;border-width:0 2px 0 0;flex:0 0 55px}.journal-table-numbers__column-2[data-v-c694ca5a]{border:solid #000;border-width:0 2px 0 0;flex:0 0 121px}.journal-table-numbers__column-3[data-v-c694ca5a]{border:solid #000;border-width:0 2px 0 0;flex:0 0 256px}.journal-table-numbers__column-4[data-v-c694ca5a]{border:solid #000;border-width:0 2px 0 0;flex:0 0 74px}.journal-table-numbers__column-5[data-v-c694ca5a]{border:solid #000;border-width:0 2px 0 0;flex:0 0 86px}.journal-table-numbers__column-6[data-v-c694ca5a]{border:solid #000;border-width:0 2px 0 0;flex:0 0 90px}.journal-table-numbers__column-7[data-v-c694ca5a]{border:solid #000;border-width:0 2px 0 0;flex:0 0 110px}.journal-table-numbers__column-8[data-v-c694ca5a]{border:solid #000;border-width:0 2px 0 0;flex:0 0 74px}.journal-table-numbers__column-9[data-v-c694ca5a]{flex:0 0 52px}",""]);const o=l},5911:(e,a,t)=>{t.d(a,{Z:()=>o});var r=t(3645),l=t.n(r)()((function(e){return e[1]}));l.push([e.id,".journal-table-row[data-v-15e50b5c]{border:2px solid #bebebe;border-top:0 solid #bebebe;display:flex;font-size:12px;height:20px;margin:0 0 0 30px;text-align:center;width:920px}.journal-table-row__column-1[data-v-15e50b5c]{border:solid #bebebe;border-width:0 2px 0 0;flex:0 0 55px}.journal-table-row__column-2[data-v-15e50b5c]{border:solid #bebebe;border-width:0 2px 0 0;flex:0 0 121px}.journal-table-row__column-3[data-v-15e50b5c]{border:solid #bebebe;border-width:0 2px 0 0;flex:0 0 256px}.journal-table-row__column-4[data-v-15e50b5c]{border:solid #bebebe;border-width:0 2px 0 0;flex:0 0 74px}.journal-table-row__column-5[data-v-15e50b5c]{border:solid #bebebe;border-width:0 2px 0 0;flex:0 0 86px}.journal-table-row__column-6[data-v-15e50b5c]{border:solid #bebebe;border-width:0 2px 0 0;flex:0 0 90px}.journal-table-row__column-7[data-v-15e50b5c]{border:solid #bebebe;border-width:0 2px 0 0;flex:0 0 110px}.journal-table-row__column-8[data-v-15e50b5c]{border:solid #bebebe;border-width:0 2px 0 0;flex:0 0 74px}.journal-table-row__column-9[data-v-15e50b5c]{cursor:pointer;flex:0 0 52px;position:relative}.journal-table-row__column-9 span[data-v-15e50b5c]{color:#fff;left:58px;position:absolute;top:0}.journal-table-row__column-9 span[data-v-15e50b5c]:hover{color:red}",""]);const o=l},306:(e,a,t)=>{t.d(a,{Z:()=>o});var r=t(3645),l=t.n(r)()((function(e){return e[1]}));l.push([e.id,".link-group[data-v-648bba80]{display:flex;justify-content:space-between;margin:0 auto 5px;width:903px}.link-group__print[data-v-648bba80]{color:blue}.link-group__clear[data-v-648bba80]{color:#a10000}.link-group span[data-v-648bba80]:hover{color:red;cursor:pointer;width:-moz-fit-content;width:fit-content}.journal-page[data-v-648bba80]{margin:0 auto;padding:64px 64px 0 240px;position:relative}.journal-table[data-v-648bba80]{background-color:#fff;font-family:Arial Cyr,Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;font-size:12px;margin:0 auto;width:-moz-fit-content;width:fit-content}",""]);const o=l},5794:(e,a,t)=>{t.r(a),t.d(a,{default:()=>j});const r={name:"JournalTableHeader"};var l=t(3379),o=t.n(l),n=t(178),i={insert:"head",singleton:!1};o()(n.Z,i);n.Z.locals;var d=t(1900);const s=(0,d.Z)(r,(function(){var e=this,a=e.$createElement;e._self._c;return e._m(0)}),[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"journal-table-header"},[t("div",{staticClass:"journal-table-header__number"},[e._v("№П/Л")]),e._v(" "),t("div",{staticClass:"journal-table-header__date"},[e._v("Дата выдачи"),t("br"),e._v("путевого листа")]),e._v(" "),t("div",{staticClass:"journal-table-header__driver"},[t("div",{staticClass:"journal-table-header__driver-title"},[e._v("Водитель")]),e._v(" "),t("div",{staticClass:"journal-table-header__driver-subtitle-group"},[t("div",{staticClass:"journal-table-header__driver-subtitle-item"},[e._v("Фамилия, Имя, Отчество")]),e._v(" "),t("div",{staticClass:"journal-table-header__driver-subtitle-item"},[e._v("Табельный"),t("br"),e._v("номер")])])]),e._v(" "),t("div",{staticClass:"journal-table-header__car-number"},[e._v("Гаражный"),t("br"),e._v("номер"),t("br"),e._v("автомобиля")]),e._v(" "),t("div",{staticClass:"journal-table-header__signature"},[t("div",{staticClass:"journal-table-header__signature-title"},[e._v("Подпись")]),e._v(" "),t("div",{staticClass:"journal-table-header__signature-subtitle-group"},[t("div",{staticClass:"journal-table-header__signature-subtitle-item"},[e._v("водителя в"),t("br"),e._v("получении"),t("br"),e._v("п.листа")]),e._v(" "),t("div",{staticClass:"journal-table-header__signature-subtitle-item"},[e._v("дисп. и дата"),t("br"),e._v("приемки п.листа"),t("br"),e._v("от водителя")]),e._v(" "),t("div",{staticClass:"journal-table-header__signature-subtitle-item"},[e._v("бух. и дата"),t("br"),e._v("приемки"),t("br"),e._v("п.листа")])])]),e._v(" "),t("div",{staticClass:"journal-table-header__comment"},[e._v("Прим.")])])}],!1,null,"dfec9f48",null).exports;const u={name:"JournalTableNumbers"};var b=t(7210),c={insert:"head",singleton:!1};o()(b.Z,c);b.Z.locals;const _=(0,d.Z)(u,(function(){var e=this,a=e.$createElement;e._self._c;return e._m(0)}),[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"journal-table-numbers"},[t("div",{staticClass:"journal-table-numbers__column-1"},[e._v("1")]),e._v(" "),t("div",{staticClass:"journal-table-numbers__column-2"},[e._v("2")]),e._v(" "),t("div",{staticClass:"journal-table-numbers__column-3"},[e._v("3")]),e._v(" "),t("div",{staticClass:"journal-table-numbers__column-4"},[e._v("4")]),e._v(" "),t("div",{staticClass:"journal-table-numbers__column-5"},[e._v("5")]),e._v(" "),t("div",{staticClass:"journal-table-numbers__column-6"},[e._v("6")]),e._v(" "),t("div",{staticClass:"journal-table-numbers__column-7"},[e._v("7")]),e._v(" "),t("div",{staticClass:"journal-table-numbers__column-8"},[e._v("8")]),e._v(" "),t("div",{staticClass:"journal-table-numbers__column-9"},[e._v("9")])])}],!1,null,"c694ca5a",null).exports;const v={name:"JournalTableNumbers",props:["id","number","date_from","date_to","full_name","person_number","car_number"],computed:{getDateFrom:function(){return this.formatDate(JSON.parse(this.date_from))},getDateTo:function(){if(this.date_from!=this.date_to)return" - ".concat(this.formatDate(JSON.parse(this.date_to)))}},methods:{formatDate:function(e){var a=e.day<10?"0".concat(e.day):e.day,t=e.month<10?"0".concat(e.month):e.month;return"".concat(a,".").concat(t,".").concat(e.year)},deleteWaybill:function(e){var a=this;confirm("Вы действительно хотите удалить запись?")&&axios.post("/api/V1/waybills/"+e,{_method:"DELETE"}).then((function(e){a.$emit("updateJournal")})).catch((function(e){console.log(e),a.errored=!0})).finally((function(){a.loading=!1}))}}};var p=t(5911),f={insert:"head",singleton:!1};o()(p.Z,f);p.Z.locals;const m={name:"Journal",components:{JournalTableHeader:s,JournalTableNumbers:_,JournalTableRow:(0,d.Z)(v,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"journal-table-row"},[t("div",{staticClass:"journal-table-row__column-1"},[e._v(e._s(e.number))]),e._v(" "),t("div",{staticClass:"journal-table-row__column-2"},[e._v(e._s(e.getDateFrom)+e._s(e.getDateTo))]),e._v(" "),t("div",{staticClass:"journal-table-row__column-3"},[e._v(e._s(e.full_name))]),e._v(" "),t("div",{staticClass:"journal-table-row__column-4"},[e._v(e._s(e.person_number))]),e._v(" "),t("div",{staticClass:"journal-table-row__column-5"},[e._v(e._s(e.car_number))]),e._v(" "),t("div",{staticClass:"journal-table-row__column-6"}),e._v(" "),t("div",{staticClass:"journal-table-row__column-7"}),e._v(" "),t("div",{staticClass:"journal-table-row__column-8"}),e._v(" "),t("div",{staticClass:"journal-table-row__column-9"},[t("span",{on:{click:function(a){return e.deleteWaybill(e.id)}}},[e._v("Удалить")])])])}),[],!1,null,"15e50b5c",null).exports},data:function(){return{errored:!1,loading:!0,waybills:[]}},mounted:function(){this.getJournal()},methods:{printJournal:function(){var e=document.querySelector("body"),a=e.innerHTML,t=document.querySelector(".print-journal");e.innerHTML=t.innerHTML,window.print(),e.innerHTML=a},clearJournal:function(){var e=this;confirm("Внимание! Все записи будут удалены!")&&axios.get("/api/V1/clear").then((function(e){})).catch((function(a){console.log(a),e.errored=!0})).finally((function(){e.loading=!1,e.getJournal()}))},getJournal:function(){var e=this;axios.get("/api/V1/waybills").then((function(a){e.waybills=a.data.data})).catch((function(a){console.log(a),e.errored=!0})).finally((function(){e.loading=!1}))}}};var x=t(306),h={insert:"head",singleton:!1};o()(x.Z,h);x.Z.locals;const j=(0,d.Z)(m,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"journal-page"},[t("h1",{staticClass:"page__title"},[e._v("Журнал")]),e._v(" "),t("div",{staticClass:"link-group"},[t("span",{staticClass:"link-group__print",on:{click:e.printJournal}},[e._v("Печать")]),e._v(" "),t("span",{staticClass:"link-group__clear",on:{click:e.clearJournal}},[e._v("Очистить журнал")])]),e._v(" "),e.loading?t("app-loader"):e._e(),e._v(" "),e.errored?t("error-notification"):e._e(),e._v(" "),t("div",{staticClass:"journal-table print-journal"},[t("journal-table-header"),e._v(" "),t("journal-table-numbers"),e._v(" "),e._l(e.waybills,(function(a){return t("journal-table-row",{key:a.id,attrs:{id:a.id,number:a.number,date_from:a.date_from,date_to:a.date_to,full_name:a.full_name,person_number:a.person_number,car_number:a.car_number},on:{updateJournal:e.getJournal}})}))],2)],1)}),[],!1,null,"648bba80",null).exports}}]);